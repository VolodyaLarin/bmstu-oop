# Лаба 3

## Задание

Другой подход к формализации задачи - объекта: рассматриваем задачу в перспективе (дальнейшая модификация, расширение).
Несколько каркасных моделей; можем рассматривать перемещение одной или несколько, или всех каркасных моделей.
Заложить возможность объединения каркасных моделей в группы. Одна каркасная модель может входить в разные. Наблюдать объект с другого ракурса: несколько наблюдателей - сцена. Можно посмотреть сцену относительно какой-то конкретной каркасной модели.

Реализуем структурную программу, но подходим по-другому (появление наблюдателя, объектов); все может перемещаться (камера, объект, камера с объектом); могут появиться другие объекты.
До мелочей: подмена хранилища, или представления объекта-модели, или библиотеки.

В дальнейшем любая модификация без изменения написанного кода. Будет примерно полсотни классов.
Сначала создать диаграмму, потом показать, потом только программа.

Для каждого действия создаём свою команду

## Паттерны

- Комманда
    - для единобразного взаимодействия с системой
- Визитер (Посетитель)
    - для добавления нового функционала объектам
    - используется для рендеринга и трансформации
- Фабричный метод
    - для единообразной генерации менеджеров
    - для предотвращения повторного создания сущностей (не путать с синглтоном, и как реализован в данном коде тоже не смотрите)
- Билдер (Строитель)
    - для генерации каркасной модели
        - строим точки
        - строим ребра
- Адаптер
    - для адаптации, например, каркасной модели к объекту сцены
- Фасад
    - для упрощения более сложного интерфейса
- Композит
    - для объединения несколько объектов в группы

## Некоторые требования 

- Не расширять и не сужать интерфейс объекта
- Хранить активную камеру в модуле отрисовке (RenderManager)
- Композит - на итераторах
- Сцена - контейнерный класс объектов (нужно хранить массив объектов, а не, например, массив камер)
- Вся композиция классов должна работать с помощью умных указателей на интерфейс (базовый класс)
- Директор построения объекта должен выполнять какую то работу, а не быть оберткой над лоадером
- Преобразования в пространстве должны быть относительно центра объекта
- Преобразования в пространстве должны быть выполнены с помощью матриц преобразования
- в коде не должно быть ничего лишнего

## Зависимости
- QT6 (для пятого придется немного хэдеры поменять)

## Комментарий

Осторожно, синглтоны, замаскированные под фабричный метод.
